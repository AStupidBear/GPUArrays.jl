<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Interface · GPUArrays.jl</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-154489943-6', 'auto');
ga('send', 'pageview', {'page': location.pathname + location.search + location.hash});
</script><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/favicon.ico" rel="icon" type="image/x-icon"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="GPUArrays.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit">GPUArrays.jl</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href>Interface</a><ul class="internal"><li><a class="tocitem" href="#Host-side-1"><span>Host-side</span></a></li><li><a class="tocitem" href="#Device-side-1"><span>Device-side</span></a></li></ul></li><li><span class="tocitem">Functionality</span><ul><li><a class="tocitem" href="../functionality/host/"><code>AbstractGPUArray</code></a></li><li><a class="tocitem" href="../functionality/device/"><code>AbstractDeviceArray</code></a></li></ul></li><li><a class="tocitem" href="../testsuite/">Test suite</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Interface</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Interface</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/JuliaGPU/GPUArrays.jl/blob/master/docs/src/interface.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Interface-1"><a class="docs-heading-anchor" href="#Interface-1">Interface</a><a class="docs-heading-anchor-permalink" href="#Interface-1" title="Permalink"></a></h1><p>To extend the above functionality to a new array type, you should use the types and implement the interfaces listed on this page. GPUArrays is design around having two different array types to represent a GPU array: one that only ever lives on the host, and one that actually can be instantiated on the device (i.e. in kernels).</p><h2 id="Host-side-1"><a class="docs-heading-anchor" href="#Host-side-1">Host-side</a><a class="docs-heading-anchor-permalink" href="#Host-side-1" title="Permalink"></a></h2><p>Your host-side array type should build on the <code>AbstractGPUArray</code> supertype:</p><article class="docstring"><header><a class="docstring-binding" id="GPUArrays.AbstractGPUArray" href="#GPUArrays.AbstractGPUArray"><code>GPUArrays.AbstractGPUArray</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">AbstractGPUArray{T, N} &lt;: DenseArray{T, N}</code></pre><p>Supertype for <code>N</code>-dimensional GPU arrays (or array-like types) with elements of type <code>T</code>. Instances of this type are expected to live on the host, see <a href="#GPUArrays.AbstractDeviceArray"><code>AbstractDeviceArray</code></a> for device-side objects.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGPU/GPUArrays.jl/blob/ffdad127c164e7db9fdcf928773b96f2a3499c36/src/host/abstractarray.jl#L5-L11">source</a></section></article><p>First of all, you should implement operations that are expected to be defined for any <code>AbstractArray</code> type. Refer to the Julia manual for more details, or look at the <code>JLArray</code> reference implementation.</p><p>To be able to actually use the functionality that is defined for <code>AbstractGPUArray</code>s, you should provide implementations of the following interfaces:</p><article class="docstring"><header><a class="docstring-binding" id="GPUArrays.unsafe_reinterpret" href="#GPUArrays.unsafe_reinterpret"><code>GPUArrays.unsafe_reinterpret</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">unsafe_reinterpret(T, a, dims)</code></pre><p>Reinterpret the array <code>a</code> to have a new element type <code>T</code> and size <code>dims</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGPU/GPUArrays.jl/blob/ffdad127c164e7db9fdcf928773b96f2a3499c36/src/host/abstractarray.jl#L223-L227">source</a></section></article><h3 id="Devices-1"><a class="docs-heading-anchor" href="#Devices-1">Devices</a><a class="docs-heading-anchor-permalink" href="#Devices-1" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="GPUArrays.device" href="#GPUArrays.device"><code>GPUArrays.device</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">device(A::AbstractArray)</code></pre><p>Gets the device associated to the Array <code>A</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGPU/GPUArrays.jl/blob/ffdad127c164e7db9fdcf928773b96f2a3499c36/src/host/devices.jl#L3-L7">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GPUArrays.synchronize" href="#GPUArrays.synchronize"><code>GPUArrays.synchronize</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">synchronize(A::AbstractArray)</code></pre><p>Blocks until all operations are finished on <code>A</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGPU/GPUArrays.jl/blob/ffdad127c164e7db9fdcf928773b96f2a3499c36/src/host/execution.jl#L54-L58">source</a></section></article><h3 id="Execution-1"><a class="docs-heading-anchor" href="#Execution-1">Execution</a><a class="docs-heading-anchor-permalink" href="#Execution-1" title="Permalink"></a></h3><div class="admonition is-warning"><header class="admonition-header">Missing docstring.</header><div class="admonition-body"><p>Missing docstring for <code>GPUArrays.AbstractGPUBackend</code>. Check Documenter&#39;s build log for details.</p></div></div><div class="admonition is-warning"><header class="admonition-header">Missing docstring.</header><div class="admonition-body"><p>Missing docstring for <code>GPUArrays.backend</code>. Check Documenter&#39;s build log for details.</p></div></div><div class="admonition is-warning"><header class="admonition-header">Missing docstring.</header><div class="admonition-body"><p>Missing docstring for <code>GPUArrays._gpu_call</code>. Check Documenter&#39;s build log for details.</p></div></div><h3 id="Linear-algebra-1"><a class="docs-heading-anchor" href="#Linear-algebra-1">Linear algebra</a><a class="docs-heading-anchor-permalink" href="#Linear-algebra-1" title="Permalink"></a></h3><div class="admonition is-warning"><header class="admonition-header">Missing docstring.</header><div class="admonition-body"><p>Missing docstring for <code>GPUArrays.blas_module</code>. Check Documenter&#39;s build log for details.</p></div></div><div class="admonition is-warning"><header class="admonition-header">Missing docstring.</header><div class="admonition-body"><p>Missing docstring for <code>GPUArrays.blasbuffer</code>. Check Documenter&#39;s build log for details.</p></div></div><h2 id="Device-side-1"><a class="docs-heading-anchor" href="#Device-side-1">Device-side</a><a class="docs-heading-anchor-permalink" href="#Device-side-1" title="Permalink"></a></h2><p>To work with GPU memory on the device itself, e.g. within a kernel, we need a different type: Most functionality will behave differently when running on the GPU, e.g., accessing memory directly instead of copying it to the host. We should also take care not to call into any host library, such as the Julia runtime or the system&#39;s math library.</p><article class="docstring"><header><a class="docstring-binding" id="GPUArrays.AbstractDeviceArray" href="#GPUArrays.AbstractDeviceArray"><code>GPUArrays.AbstractDeviceArray</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">AbstractDeviceArray{T, N} &lt;: DenseArray{T, N}</code></pre><p>Supertype for <code>N</code>-dimensional GPU arrays (or array-like types) with elements of type <code>T</code>. Instances of this type are expected to live on the device, see <a href="#GPUArrays.AbstractGPUArray"><code>AbstractGPUArray</code></a> for device-side objects.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGPU/GPUArrays.jl/blob/ffdad127c164e7db9fdcf928773b96f2a3499c36/src/device/abstractarray.jl#L8-L14">source</a></section></article><p>Your device array type should again implement the core elements of the <code>AbstractArray</code> interface, such as indexing and certain getters. Refer to the Julia manual for more details, or look at the <code>JLDeviceArray</code> reference implementation.</p><p>You should also provide implementations of several &quot;GPU intrinsics&quot;. To make sure the correct implementation is called, the first argument to these intrinsics will be the kernel state object from before.</p><article class="docstring"><header><a class="docstring-binding" id="GPUArrays.LocalMemory" href="#GPUArrays.LocalMemory"><code>GPUArrays.LocalMemory</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Creates a block local array pointer with <code>T</code> being the element type and <code>N</code> the length. Both T and N need to be static! C is a counter for approriately get the correct Local mem id in CUDAnative. This is an internal method which needs to be overloaded by the GPU Array backends</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGPU/GPUArrays.jl/blob/ffdad127c164e7db9fdcf928773b96f2a3499c36/src/device/abstractarray.jl#L51-L56">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GPUArrays.synchronize_threads" href="#GPUArrays.synchronize_threads"><code>GPUArrays.synchronize_threads</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia"> synchronize_threads(state)</code></pre><p>in CUDA terms <code>__synchronize</code> in OpenCL terms: <code>barrier(CLK_LOCAL_MEM_FENCE)</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGPU/GPUArrays.jl/blob/ffdad127c164e7db9fdcf928773b96f2a3499c36/src/device/synchronization.jl#L5-L10">source</a></section></article><div class="admonition is-warning"><header class="admonition-header">Missing docstring.</header><div class="admonition-body"><p>Missing docstring for <code>GPUArrays.blockidx_x</code>. Check Documenter&#39;s build log for details.</p></div></div><div class="admonition is-warning"><header class="admonition-header">Missing docstring.</header><div class="admonition-body"><p>Missing docstring for <code>GPUArrays.blockidx_y</code>. Check Documenter&#39;s build log for details.</p></div></div><div class="admonition is-warning"><header class="admonition-header">Missing docstring.</header><div class="admonition-body"><p>Missing docstring for <code>GPUArrays.blockidx_z</code>. Check Documenter&#39;s build log for details.</p></div></div><div class="admonition is-warning"><header class="admonition-header">Missing docstring.</header><div class="admonition-body"><p>Missing docstring for <code>GPUArrays.blockdim_x</code>. Check Documenter&#39;s build log for details.</p></div></div><div class="admonition is-warning"><header class="admonition-header">Missing docstring.</header><div class="admonition-body"><p>Missing docstring for <code>GPUArrays.blockdim_y</code>. Check Documenter&#39;s build log for details.</p></div></div><div class="admonition is-warning"><header class="admonition-header">Missing docstring.</header><div class="admonition-body"><p>Missing docstring for <code>GPUArrays.blockdim_z</code>. Check Documenter&#39;s build log for details.</p></div></div><div class="admonition is-warning"><header class="admonition-header">Missing docstring.</header><div class="admonition-body"><p>Missing docstring for <code>GPUArrays.threadidx_x</code>. Check Documenter&#39;s build log for details.</p></div></div><div class="admonition is-warning"><header class="admonition-header">Missing docstring.</header><div class="admonition-body"><p>Missing docstring for <code>GPUArrays.threadidx_y</code>. Check Documenter&#39;s build log for details.</p></div></div><div class="admonition is-warning"><header class="admonition-header">Missing docstring.</header><div class="admonition-body"><p>Missing docstring for <code>GPUArrays.threadidx_z</code>. Check Documenter&#39;s build log for details.</p></div></div><div class="admonition is-warning"><header class="admonition-header">Missing docstring.</header><div class="admonition-body"><p>Missing docstring for <code>GPUArrays.griddim_x</code>. Check Documenter&#39;s build log for details.</p></div></div><div class="admonition is-warning"><header class="admonition-header">Missing docstring.</header><div class="admonition-body"><p>Missing docstring for <code>GPUArrays.griddim_y</code>. Check Documenter&#39;s build log for details.</p></div></div><div class="admonition is-warning"><header class="admonition-header">Missing docstring.</header><div class="admonition-body"><p>Missing docstring for <code>GPUArrays.griddim_z</code>. Check Documenter&#39;s build log for details.</p></div></div></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><a class="docs-footer-nextpage" href="../functionality/host/"><code>AbstractGPUArray</code> »</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Friday 24 January 2020 13:11">Friday 24 January 2020</span>. Using Julia version 1.3.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
